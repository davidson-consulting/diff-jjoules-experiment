{
    "102": {
        "size": 20,
        "decision": "break",
        "diff": "diff -ru /tmp/v1/compiler/src/main/java/com/github/mustachejava/resolver/ClasspathResolver.java /tmp/v2/compiler/src/main/java/com/github/mustachejava/resolver/ClasspathResolver.java\n--- /tmp/v1/compiler/src/main/java/com/github/mustachejava/resolver/ClasspathResolver.java\t2022-06-06 18:28:48.703315167 +0200\n+++ /tmp/v2/compiler/src/main/java/com/github/mustachejava/resolver/ClasspathResolver.java\t2022-06-06 18:28:48.671314954 +0200\n@@ -6,6 +6,7 @@\n import java.io.InputStream;\n import java.io.InputStreamReader;\n import java.io.Reader;\n+import java.net.URI;\n import java.nio.charset.StandardCharsets;\n \n /**\n@@ -33,11 +34,12 @@\n         ClassLoader ccl = Thread.currentThread().getContextClassLoader();\n \n         String fullResourceName = concatResourceRootAndResourceName(resourceName);\n+        String normalizeResourceName = URI.create(fullResourceName).normalize().getPath();\n \n-        InputStream is = ccl.getResourceAsStream(fullResourceName);\n+        InputStream is = ccl.getResourceAsStream(normalizeResourceName);\n         if (is == null) {\n             ClassLoader classLoader = ClasspathResolver.class.getClassLoader();\n-            is = classLoader.getResourceAsStream(fullResourceName);\n+            is = classLoader.getResourceAsStream(normalizeResourceName);\n         }\n \n         if (is != null) {\ndiff -ru /tmp/v1/compiler/src/test/java/com/github/mustachejava/resolver/ClasspathResolverTest.java /tmp/v2/compiler/src/test/java/com/github/mustachejava/resolver/ClasspathResolverTest.java\n--- /tmp/v1/compiler/src/test/java/com/github/mustachejava/resolver/ClasspathResolverTest.java\t2022-06-06 18:28:48.703315167 +0200\n+++ /tmp/v2/compiler/src/test/java/com/github/mustachejava/resolver/ClasspathResolverTest.java\t2022-06-06 18:28:48.671314954 +0200\n@@ -65,4 +65,17 @@\n         underTest.getReader(null);\n     }\n \n+    @Test\n+    public void getReaderWithRootAndResourceHasDoubleDotRelativePath() throws Exception {\n+        ClasspathResolver underTest = new ClasspathResolver(\"templates\");\n+        Reader reader = underTest.getReader(\"absolute/../absolute_partials_template.html\");\n+        assertThat(reader, is(notNullValue()));\n+    }\n+\n+    @Test\n+    public void getReaderWithRootAndResourceHasDotRelativePath() throws Exception {\n+        ClasspathResolver underTest = new ClasspathResolver(\"templates\");\n+        Reader reader = underTest.getReader(\"absolute/./nested_partials_sub.html\");\n+        assertThat(reader, is(notNullValue()));\n+    }\n }\n\\ No newline at end of file\n",
        "sha1": "710c467",
        "sha2": "774ae7a"
    }
}