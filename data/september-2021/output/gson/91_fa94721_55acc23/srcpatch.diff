diff -ru /tmp/v1/gson/src/main/java/com/google/gson/internal/bind/JsonTreeWriter.java /tmp/v2/gson/src/main/java/com/google/gson/internal/bind/JsonTreeWriter.java
--- /tmp/v1/gson/src/main/java/com/google/gson/internal/bind/JsonTreeWriter.java	2021-09-24 18:52:53.010376617 +0200
+++ /tmp/v2/gson/src/main/java/com/google/gson/internal/bind/JsonTreeWriter.java	2021-09-24 13:30:28.997718922 +0200
@@ -130,6 +130,9 @@
   }
 
   @Override public JsonWriter name(String name) throws IOException {
+    if (name == null) {
+      throw new NullPointerException("name == null");
+    }
     if (stack.isEmpty() || pendingName != null) {
       throw new IllegalStateException();
     }
